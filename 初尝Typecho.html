<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Basic -->
    <title>初尝Typoche | 狂人日记</title>
    <meta http-equiv="x-dns-prefetch-control" content="on">
    <link rel="dns-prefetch" href="//valine.js.org">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//fonts.loli.net">
    <link rel="dns-prefetch" href="//cdn1.lncld.net">
    <link rel="dns-prefetch" href="//gravatar.loli.net">
    <link rel="dns-prefetch" href="//i.loli.net">
    <link rel="dns-prefetch" href="//gstatic.loli.net">
    <meta name="description" content="一个疯子的生活小记">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/script/manifest.json">
    <meta name="theme-color" content="#02467E">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon-152x152.png">
    <meta name="msapplication-TileImage" content="/images/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
      <link rel="shortcut icon" href="/images/ourfor.jpg">
      <link rel="icon" href="/images/ourfor.jpg">
    
    <!-- Social -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://diary.ourfor.top">
    <meta property="og:title" content="初尝Typoche | 狂人日记">
    <meta property="og:description" content="">
    <meta property="og:image" content="">
    <meta name="twitter:site" content="">
    <meta name="twitter:title" content="初尝Typoche | 狂人日记">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="">

    <!-- Misc -->
    <meta name="google-site-verification" content="" />

    
    
      <link rel="stylesheet" href="/style/bundle-meteor.css">
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-3540467103914375",
        enable_page_level_ads: true
      });
    </script>
    
    <script src='//unpkg.com/hanabi' ></script>
  </head>
  <body class="">
      

  <div class="nav dark">
    <div class="nav-group left">
      <div class="nav-item mobile-button js-sidebar-toggle show-mobile">
        <span class="icon-menu"></span>
      </div>
      <div class="nav-item">
        
        <a class="logo-wrapper" href="/" title="一个疯子的生活小记 Diary"  >
          <img src="/images/zip.jpg" alt="一个疯子的生活小记" class="logo"/>
          
            <span>Diary</span>
          
        </a>
      </div>
    </div>


    <style type="text/css">
            html,body{font-size: 14px;font-family: "微软雅黑";text-align: left;width: 100%;height: 100%;min-height: 100%;border:0;line-height: none;}
            p{border: 0;margin: 0;padding: 0;line-height: none;}
            body{padding:0px; margin:0px ;}
            .footer_cust{text-align: left;position:relative;}
            
        </style>


    <div class="nav-group right">
      <div class="nav-item show-desktop">
        
        <a class="link" href="https://ourfor.top" >
          <span><a href="https://ourfor.top">🥝🍌️Blog🍓️🍎️</a></span>
        </a>
      </div>
      
    </div>
  </div>

  

<div class="sidebar">
  <div class="panel">
    <div class="panel-item">
      <a class="" href="https:/diary.ourfor.top" title="一个疯子的生活小记"  >
        <span>一个疯子的生活小记 Diary</span>
      </a>
    </div>
    
  </div>

  <div class="sidebar-content">
    <div class="topcap"></div>
    
    <div class="wrapper-search">
      <div class="input-area">
        <div class="input-symbol small round">
          <input type="text" placeholder="Search" id="desktop-search-input" />
          <span class="icon-search"></span>
        </div>
      </div>
      <div class="wrapper-desktop-search-results"></div>
    </div>

    

    <ul class="toc">
      

        <li>
          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a
                  href="."
                  class="sidebar-link "
                >
                  <span>介绍</span>
                </a>
              </li>
              
            
              
              
            
              
              
            
          </ul>
        </li>

        <hr />
      

        <li>
          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a
                  href="hexo-github-coding搭建个人博客.html"
                  class="sidebar-link "
                >
                  <span>hexo个人博客</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc ">
                <a
                  href="太极拳好难.html"
                  class="sidebar-link "
                >
                  <span>太极拳</span>
                </a>
              </li>
              
            
              
              
            
              
              
              <li class="item-toc ">
                <a
                  href="暑假规划.html"
                  class="sidebar-link "
                >
                  <span>暑假规划</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr />
      

        <li>
          <ul class="list-toc">
            
              
              
              <li class="item-toc ">
                <a
                  href="读《红楼梦》有感.html"
                  class="sidebar-link "
                >
                  <span>读《红楼梦》有感</span>
                </a>
              </li>
              
            
              
              
              <li class="item-toc current">
                <a
                  href=""
                  class="sidebar-link current"
                >
                  <span>初尝Typoche</span>
                </a>
              </li>
              
            
          </ul>
        </li>

        <hr />
      
    </ul>
  </div>
</div>

    <div class="content">

      <div class="header-content">
        <div class="header-wrapper">
          <div class="title-wrapper">
            <h1 class="title-page">
              初尝Typoche
            </h1>
            
          </div>

          <div class="page-actions">
            <div class="actions-group">
              <a class="btn tertiary small round lowercase" href="https://github.com/ourfor/diary_hexo/tree/master/source/初尝Typecho.md" target="_blank">
                <span class="icon-github"></span>
                <span>在Github上编辑此页</span>
              </a>
              
              
            </div>
          </div>
        </div>
      </div>

      <div class="content-wrapper">
        <div class="document-formatting">
          <p>昨天笔记本重装10.13不小心把博客的源代码删了，虽然我有保存有多个副本，但是最近的一次副本保存在机械硬盘里面的，而这机械硬盘我放在宿舍没拿回家，所以我就暂时没有去碰服务器和Coding上面的<code>HTML源码</code>，但是我也不能闲着啊，毕竟有两个月的时间在家，除了平时的笔记push到<code>Github</code>仓库之外，我还会把一些东西记录下来，也是一个偶然的机会发现了 <strong><em>Typecho</em></strong>，原本是在应用商店里面看<code>Rime输入法</code>，无意中点进去一个博客，发现底部的博客框架是<code>Typecho</code>，点进去就来到了<a href="http://typecho.org/" target="_blank" rel="noopener">Typecho官网</a>,反正我也闲来无事，就搭一个耍耍，顺便记录下来，可能会帮到搭建遇到问题的人。<br><a id="more"></a></p>
<h1 id="初识Typecho"><a href="#初识Typecho" class="headerlink" title="初识Typecho"></a>初识Typecho</h1><ul>
<li>这<code>Typecho</code>究竟是什么博客框架？<br>这个博客框架和<code>WordPress</code>一样属于动态博客框架，之前有看过我写的<a href="https://ourfor.top/2018/03/06/hexo-github-coding%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">hexo+github/coding搭建个人博客</a>就知道这二者的区别。</li>
</ul>
<p>其实二者最本质的区别就是对[编辑语法]的支持以及[环境的依赖]。如果你跟喜欢Word文档或者Powerpoint式的写作，那么我并不推荐你使用静态博客，也就是<code>HTML语法</code>的网页，<code>PHP语法</code>更适合你。所以二者环境的区别就是是否需要安装<code>Php</code>和<code>Mysql数据库</code>，这里不深入展开讨论，回归正题，<code>Typecho</code>有哪些优点呢？官网首页这样写到：</p>
<ul>
<li><p>轻量高效 仅仅 7 张数据表，加上不足 400KB 的代码，就实现了完整的插件与模板机制。超低的 CPU 和内存使用率，足以发挥主机的最高性能。</p>
</li>
<li><p>先进稳定 原生支持 Markdown 排版语法，易读更易写。支持 BAE/GAE/SAE 等各类云主机，即使面对突如其来的高访问量，也能轻松应对。</p>
</li>
<li><p>简洁友好 精心打磨过的操作界面，依然是你熟悉的面孔，更多了一份成熟与贴心。每一个像素的剪裁，都只为离完美更进一步。</p>
</li>
</ul>
<p>我补充几点：</p>
<ul>
<li><p>丰富的主题及插件 你可以上<code>Github</code>上面搜索 <strong><em>Typecho</em></strong>,你就会发现很多精美的开源主题和异常丰富的插件，此外原生支持评论，这类动态博客都可以这web端随时随地管理，同样缺点也很明显，文章不利于保存，还得拥有一台有公网IP的主机。</p>
</li>
<li><p>用户量还算比较多 据说有500,000 用户。</p>
</li>
</ul>
<blockquote>
<p>建议还算适当的掌握 <strong><em>MarkDown语法</em></strong> 和一些简单的 <strong><em>HTML语法</em></strong>，虽然此框架不要求。</p>
</blockquote>
<h1 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h1><p>昨天我在Vultr上面的服务器上面搭建好了，今天我就以<code>树莓派</code>上面的<code>CentOS</code>为例，下面👇🏻贴出我的详细配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Last login: Fri Jul 20 15:40:12 2018 from 192.168.1.174</span><br><span class="line">Nice To Meet You!</span><br><span class="line">                 ..                    root@localhost.localdomain</span><br><span class="line">               .PLTJ.                  --------------------------</span><br><span class="line">              &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;                 OS: CentOS Linux 7 (Core) armv7l</span><br><span class="line">     KKSSV<span class="string">' 4KKK LJ KKKL.'</span>VSSKK        Host: Raspberry Pi 3 Model B</span><br><span class="line">     KKV<span class="string">' 4KKKKK LJ KKKKAL '</span>VKK        Kernel: 4.14.52-201.el7.armv7hl</span><br><span class="line">     V<span class="string">' '</span> <span class="string">'VKKKK LJ KKKKV'</span> <span class="string">' '</span>V        Uptime: 12 hours, 22 mins</span><br><span class="line">     .4MA.<span class="string">' '</span>VKK LJ KKV<span class="string">' '</span>.4Mb.        Packages: 468 (rpm)</span><br><span class="line">   . KKKKKA.<span class="string">' '</span>V LJ V<span class="string">' '</span>.4KKKKK .      Shell: zsh 5.0.2</span><br><span class="line"> .4D KKKKKKKA.<span class="string">''</span> LJ <span class="string">''</span>.4KKKKKKK FA.    Terminal: /dev/pts/0</span><br><span class="line">&lt;QDD ++++++++++++  ++++++++++++ GFD&gt;   CPU: Generic DT based system (4)</span><br><span class="line"> <span class="string">'VD KKKKKKKK'</span>.. LJ ..<span class="string">'KKKKKKKK FV     Memory: 173MiB / 974MiB</span></span><br><span class="line"><span class="string">   '</span> VKKKKK<span class="string">'. .4 LJ K. .'</span>KKKKKV <span class="string">'</span></span><br><span class="line"><span class="string">      '</span>VK<span class="string">'. .4KK LJ KKA. .'</span>KV<span class="string">'</span></span><br><span class="line"><span class="string">     A. . .4KKKK LJ KKKKA. . .4</span></span><br><span class="line"><span class="string">     KKA. '</span>KKKKK LJ KKKKK<span class="string">' .4KK</span></span><br><span class="line"><span class="string">     KKSSA. VKKK LJ KKKV .4SSKK</span></span><br><span class="line"><span class="string">              &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;</span></span><br><span class="line"><span class="string">               '</span>MKKM<span class="string">'</span></span><br><span class="line"><span class="string">                 '</span><span class="string">'</span></span><br></pre></td></tr></table></figure>
<p>首先安装<code>lnmp环境</code>，由于安装<code>lnmp</code>并不是本文的重点，你可以去官网下载源码编译安装，也可以在仓库安装，为了节约时间，这里使用一键安装脚本。<br>一键安装脚本<a href="https://lnmp.org/download.html" target="_blank" rel="noopener">官网</a>,这里提供<code>version=1.5</code>的在线安装脚本<a href="http://soft.vpser.net/lnmp/lnmp1.5.tar.gz" target="_blank" rel="noopener">下载链接</a></p>
<p>ssh接入服务器，键入如下命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget http://soft.vpser.net/lnmp/lnmp1.5.tar.gz</span><br><span class="line">tar -xvf lnmp1.5.tar.gz     <span class="comment">#解压压缩文件，会生成一个名为lnmp1.5的目录，可以通过ls查看</span></span><br><span class="line"><span class="built_in">cd</span> lnmp1.5          <span class="comment">#进入解压后的文件夹</span></span><br><span class="line">yum install -y screen   <span class="comment">#安装screen，让脚本后台安装</span></span><br><span class="line">screen -S Install_lnmp  <span class="comment">#创建一个名为Install_lnmp的session。</span></span><br><span class="line">./install.sh   <span class="comment">#执行安装脚本</span></span><br></pre></td></tr></table></figure></p>
<p>执行安装脚本后它会提示你安装哪个版本，你可以直接回车，当然🙄️也可以按照自己的喜好安装，不过安装Mysql时会让你创建数据库<code>root</code>用户的密码，记住此密码待会有用到。此时你只需要等待它安装完毕即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">PHP: OK</span><br><span class="line">PHP-FPM: OK</span><br><span class="line">Clean src directory...</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|          LNMP V1.5 <span class="keyword">for</span> CentOS Linux Server, Written by Licess          |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|           For more information please visit https://lnmp.org           |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|    lnmp status manage: lnmp &#123;start|stop|reload|restart|<span class="built_in">kill</span>|status&#125;    |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  phpMyAdmin: http://IP/phpmyadmin/                                     |</span><br><span class="line">|  phpinfo: http://IP/phpinfo.php                                        |</span><br><span class="line">|  Prober:  http://IP/p.php                                              |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  Add VirtualHost: lnmp vhost add                                       |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  Default directory: /home/wwwroot/default                              |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  MySQL/MariaDB root password: 2320813747                          |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">|    Manager <span class="keyword">for</span> LNMP, Written by Licess    |</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">|              https://lnmp.org             |</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">nginx (pid 24643 24642 24641 24640 24639) is running...</span><br><span class="line">php-fpm is runing!</span><br><span class="line"> SUCCESS! MySQL running (25190)</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State</span><br><span class="line">tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN</span><br><span class="line">tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN</span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN</span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN</span><br><span class="line">Install lnmp takes 162 minutes.</span><br><span class="line">Install lnmp V1.5 completed! enjoy it.​</span><br></pre></td></tr></table></figure>
<p>显示此信息就说明安装完毕，其中上面的<code>0.0.0.0:3306</code>中的 <strong><em>3306</em></strong> 是Mysql默认监听的端口，<code>0 0.0.0.0:80</code>中的<code>80</code>是<code>Nginx</code>占用的端口。如后续使用<code>Caddy</code>就可以停用<code>Nginx</code>。</p>
<h2 id="网站根目录"><a href="#网站根目录" class="headerlink" title="网站根目录"></a>网站根目录</h2><p>这里安装的<code>lnmp</code>是默认把<code>/home/wwwroot</code>作为主机的目录。以后添加目录以后都会在这里相应的创建文件夹方便管理。</p>
<ul>
<li>添加虚拟主机</li>
</ul>
<p>使用命令<code>lnmp vhost add</code>添加虚拟主机目录，其中：</p>
<table>
<thead>
<tr>
<th style="text-align:center">Q</th>
<th style="text-align:center">A</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Please enter domain(example: <a href="http://www.lnmp.org)" target="_blank" rel="noopener">www.lnmp.org)</a>:</td>
<td style="text-align:center">填写你的域名，同时dns解析到服务器ip</td>
</tr>
<tr>
<td style="text-align:center">Enter more domain name(example: lnmp.org .lnmp.org):</td>
<td style="text-align:center">保存默认，回车即可</td>
</tr>
<tr>
<td style="text-align:center">Default directory: /home/wwwroot/share.ourfor.top:</td>
<td style="text-align:center">回车</td>
</tr>
<tr>
<td style="text-align:center">Allow Rewrite rule? (y/n)</td>
<td style="text-align:center">y</td>
</tr>
<tr>
<td style="text-align:center">Enable PHP Pathinfo? (y/n)</td>
<td style="text-align:center">y</td>
</tr>
<tr>
<td style="text-align:center">Allow access logs (y/n)</td>
<td style="text-align:center">y</td>
</tr>
<tr>
<td style="text-align:center">Add SSL Certificate (y/n)</td>
<td style="text-align:center">y</td>
</tr>
<tr>
<td style="text-align:center">1.: Use your own SSL Certificate and Key 2.: Use Let’s Encrypt to create SSL Certificate and Key</td>
<td style="text-align:center">建议使用2，自动添加https证书</td>
</tr>
</tbody>
</table>
<p>接下来它会自动开始配置，当提示此信息我们就可以进行下一步了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">================================================</span><br><span class="line">Virtualhost infomation:</span><br><span class="line">Your domain: share.ourfor.top</span><br><span class="line">Home Directory: /home/wwwroot/share.ourfor.top</span><br><span class="line">Rewrite: other</span><br><span class="line">Enable <span class="built_in">log</span>: yes</span><br><span class="line">Create database: no</span><br><span class="line">Create ftp account: no</span><br><span class="line">Enable SSL: yes</span><br><span class="line">  =&gt;Let<span class="string">'s Encrypt</span></span><br><span class="line"><span class="string">================================================</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果你使用的是VPS，这里忽略</p>
</blockquote>
<p>其中由于现在我用的是树莓派，没有做内网穿透，没有公网ip，所以我得修改nginx的配置才能在局域网中访问树莓派。<br>使用 <strong><em>find</em></strong>命令搜索🔍️配置文件<code>find / -name nginx.conf</code>,搜索结果显示我的配置文件在:<code>/usr/local/nginx/conf/nginx.conf</code>,使用vi编辑<code>vi /usr/local/nginx/conf/nginx.conf</code>将其中的:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">listen 80 default_server;</span><br><span class="line">         <span class="comment">#listen [::]:80 default_server ipv6only=on;</span></span><br><span class="line">         server_name _;</span><br><span class="line">         index index.html index.htm index.php;</span><br><span class="line">         root  /home/wwwroot/default;</span><br></pre></td></tr></table></figure></p>
<p>改为：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">listen 80 default_server;</span><br><span class="line">         <span class="comment">#listen [::]:80 default_server ipv6only=on;</span></span><br><span class="line">         server_name _;</span><br><span class="line">         index index.html index.htm index.php;</span><br><span class="line">         root  /home/wwwroot/share.ourfor.top;</span><br></pre></td></tr></table></figure></p>
<p>其中<code>/home/wwwroot/share.ourfor.top</code>就是上文我们添加的网站目录，按照你添加的修改，使用<code>lnmp restart</code>重启<strong><em>Nginx</em></strong>使配置生效，那么接下来我们就可以去官网下载源码了。</p>
<hr>
<h3 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h3><ul>
<li><p>下载源码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://typecho.org/downloads/1.1-17.10.30-release.tar.gz&amp;&amp;tar -xvf 1.1-17.10.30-release.tar.gz</span><br></pre></td></tr></table></figure>
</li>
<li><p>移动到网站根目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv build/* /home/wwwroot/share.ourfor.top/ <span class="comment">#也就是上文的网站根目录，按照实际情况修改</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个名为typecho的数据库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p   <span class="comment">#回车，接下来输入之前创建root用户所设置的密码</span></span><br><span class="line"><span class="comment">#password</span></span><br><span class="line">create DATABASE typecho; <span class="comment">#创建名为typecho的数据库</span></span><br><span class="line"><span class="built_in">exit</span>  <span class="comment">#退出，保存。</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>接下来就可以打开域名或者局域网ip(树莓派)了，这时候如果打开Dashboard(控制面板)出现没有权限或者<code>Not Found</code>的话，就需要修改<code>php.ini</code>,同样使用find命令搜索<code>find / -name php.ini</code>,使用vi编辑，键入<code>/cgi.fix_pathinfo</code>，查找字符，将<code>cgi.fix_pathinfo=0</code>改为<code>cgi.fix_pathinfo=1</code>,随后重启php,<code>lnmp restart</code></p>
<ul>
<li>常见问题：<a href="http://docs.typecho.org/faq" target="_blank" rel="noopener">官方帮助文档</a></li>
</ul>
<hr>
<ul>
<li>未监听9000端口<br>在php配置文件（一般应该是叫<code>php-fpm.conf</code>）中添加：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">listen = /tmp/php-cgi.sock  <span class="comment">#一般有，这一段不用添加，只是定位</span></span><br><span class="line">listen = 127.0.0.1:9000</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>使用<code>Caddy</code>代替<code>Nginx</code>作为 <strong><em>Http</em></strong> 服务器(推荐)，相比之前的步骤，使用<code>Caddy</code>则相对比较简单，首先去官网下载<code>Caddy</code>，</p>
<ul>
<li><a href="https://caddyserver.com/" target="_blank" rel="noopener">Caddy</a>优势：<ul>
<li style="list-style: none"><input type="checkbox" checked> 自动签发 HTTPS</li>
<li style="list-style: none"><input type="checkbox" checked> 目录浏览界面美观强大</li>
<li style="list-style: none"><input type="checkbox" checked> 容易上手，插件众多，官方文档介绍详细</li>
</ul>
</li>
</ul>
<p>这里我选择了几个实用的插件：</p>
<ol>
<li>http.cache</li>
<li>http.filemanager</li>
<li>http.filter</li>
<li>http.git </li>
<li>http.jekyll </li>
<li>http.locale   </li>
<li>http.login  </li>
<li>http.upload </li>
<li>http.webdav  </li>
<li>tls.dns.vultr</li>
</ol>
<p>按照自己的需要选择，这里将<code>caddy</code>下载解压后的文件放到<code>/home/wwwroot</code>下，方便管理网站，并在该目录下创建一个名为<code>Caddyfile</code>的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">blog.ourfor.top:443 &#123;</span><br><span class="line">	root /home/wwwroot/blog.ourfor.top/</span><br><span class="line">	timeouts 10m</span><br><span class="line">        gzip</span><br><span class="line">        fastcgi / 127.0.0.1:9000 php</span><br><span class="line">	tls 2320813747@qq.com</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><ul>
<li><code>blog.ourfor.top:443</code>域名以及端口，其中<code>http为80</code>而<code>https为443</code></li>
<li><code>root /home/wwwroot/blog.ourfor.top/</code>网站根目录路径</li>
</ul>
<hr>
<p>主题推荐：</p>
<ul>
<li><a href="https://github.com/WeicMa/Typecho-Theme-Life" target="_blank" rel="noopener">life</a></li>
<li><a href="https://github.com/chakhsu/pinghsu.git" target="_blank" rel="noopener">pinghsu</a></li>
<li><a href="https://github.com/chakhsu/lpisme.git" target="_blank" rel="noopener">lpisme</a></li>
<li><a href="https://github.com/zgq354/typecho-theme-next" target="_blank" rel="noopener">next</a></li>
<li><a href="https://github.com/jiangmuzi/jianshu.git" target="_blank" rel="noopener">jianshu</a></li>
</ul>
<p>插件推荐：</p>
<p><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"></p>
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>

<div class="aplayer" data-id="4220599045" data-server="tencent" data-type="playlist"><br></div>

<script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script>

















<h1 id="相关文档"><a href="#相关文档" class="headerlink" title="相关文档"></a>相关文档</h1><ul>
<li><a href="https://blog.coding.net/blog/CS-Hexo?utm_source=newsletter&amp;utm_medium=email&amp;utm_campaign=monthly&amp;utm_content=2018-04" target="_blank" rel="noopener">最快的 Hexo 博客搭建方法</a></li>
</ul>
<blockquote>
<p>这个是Coding发给我的电子邮件里面附上的，很少用<code>Cloud Studio</code>，不过看了它的教程似乎还行，当然仅作参考</p>
</blockquote>
<ul>
<li><a href="https://coding.net/help/cloud-studio/wordpress" target="_blank" rel="noopener">Cloud Studio 部署 WordPress 示例</a></li>
</ul>
<blockquote>
<p>这个可以在<code>最快的 Hexo 博客搭建方法</code>里面找到</p>
</blockquote>
<ul>
<li><a href="https://ourfor.top/2018/03/06/hexo-github-coding%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">hexo+github/coding搭建个人博客</a></li>
</ul>
<blockquote>
<p>😥️这个是我写的</p>
</blockquote>

        </div>

        
      
        <div class="pagination">
          <div class="content-wrapper">
            
            
              <a class="link primary prev" href="读《红楼梦》有感.html">
                <span class="subtitle-pagination">
                  上一篇
                </span>
                读《红楼梦》有感
              </a>
            
            
          </div>
        </div>
        
        
          <div class="vcomment"></div>
          <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
          <script src="//unpkg.com/valine"></script>
          <script>
            var valine = new Valine();
            var path = window.location.pathname.replace('index.html','');
            var isEN = path.indexOf('en') > -1;
            path = isEN ? path.replace('en/','') : path;
            valine.init({
                el: '.vcomment',
                appId: 'LQcg6cueG8cMcLf9gSrAhF6d-gzGzoHsz',
                appKey: 'zAMFPgKrAh09qqQDGHvdU0Uq',
                notify: true,
                placeholder: '等一个人，还是等一个故事？\\n🍇🍈🍉🍊🍋🍌🍍🍎🍏🍐🍑🍒🍓🥝🍅',
                avatar:'robohash',
                path:path,
                lang: isEN ? 'en' : 'zh-cn',
                visitor:true
            })
          </script>
        
      </div>

      
      <!--
      <div class="github">
        
        &copy;  - 2018 <br> Powered By <a href="https://ourfor.top">ourfor</a>.
      </div>
    </div>
    -->
    <footer class="footer_cust">
    
    <div class="footer_cust">
        <p align=center>
            <span>
                Zip &copy; 2015 - 2018
            </span>
        </p>
        <p align=center>
            <span align=center>
            Designed by <a href="https://github.com/ourfor">ourfor</a>
            </span>
        </p>
    </div>
</footer>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/smooth-scroll@12.1.5/dist/js/smooth-scroll.min.js"></script>

    <script>
      // Used by the main.js script below.
      docsConfigRoot = '/';
    </script>
    <script src="/script/main.js"></script>
    <script src="/script/highlight.js"></script>

    <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

    
      <script>
        // Google analytics
        ;(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-61934506-3', 'auto');
        ga('send', 'pageview');
      </script>
    

    

    <!-- search box -->
    

    

    
    
  </body>
</html>
